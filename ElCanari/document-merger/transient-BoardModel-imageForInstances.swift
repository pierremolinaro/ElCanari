//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func compute_BoardModel_imageForInstances (
       _ prefs_mergerColorBackground : NSColor,
       _ self_modelWidth : Int,            
       _ self_modelHeight : Int,           
       _ self_frontTracksBezierPaths : BezierPathArray,
       _ prefs_mergerBoardViewDisplayFrontTracks : Bool,
       _ prefs_mergerColorFrontTracks : NSColor,
       _ self_backTracksBezierPaths : BezierPathArray,
       _ prefs_mergerBoardViewDisplayBackTracks : Bool,
       _ prefs_mergerColorBackTracks : NSColor,
       _ self_boardLimitsBezierPaths : BezierPathArray,
       _ prefs_mergerBoardViewDisplayInternalBoardLimits : Bool,
       _ prefs_mergerColorInternalBoardLimits : NSColor,
       _ self_frontPadsBezierPaths : BezierPathArray,
       _ prefs_mergerBoardViewDisplayFrontPads : Bool,
       _ prefs_mergerColorFrontPads : NSColor,
       _ self_viasBezierPaths : BezierPathArray,
       _ prefs_mergerBoardViewDisplayVias : Bool,
       _ prefs_mergerColorVias : NSColor
) -> NSImage {
//--- START OF USER ZONE 2
  let cocoaBoardRect = CGRect (x: 0.0, y: 0.0, width: canariUnitToCocoa (self_modelWidth), height: canariUnitToCocoa (self_modelHeight))
  var paths = [([NSBezierPath], NSColor, StrokeOrFill)] ()
//--- Back tracks
  if prefs_mergerBoardViewDisplayBackTracks {
    paths.append ((self_backTracksBezierPaths.array, prefs_mergerColorBackTracks, .stroke))
  }
//--- Front tracks
  if prefs_mergerBoardViewDisplayFrontTracks {
    paths.append ((self_frontTracksBezierPaths.array, prefs_mergerColorFrontTracks, .stroke))
  }
//--- Front pads
  if (prefs_mergerBoardViewDisplayFrontPads) {
    paths.append ((self_frontPadsBezierPaths.array, prefs_mergerColorFrontPads, .fill))
  }
//--- Vias
  if (prefs_mergerBoardViewDisplayVias) {
    paths.append ((self_viasBezierPaths.array, prefs_mergerColorVias, .fill))
  }
//--- Board limits tracks
  if prefs_mergerBoardViewDisplayInternalBoardLimits {
    paths.append ((self_boardLimitsBezierPaths.array, prefs_mergerColorInternalBoardLimits, .stroke))
  }
//---
  let pdfData = buildPDFimage (frame:cocoaBoardRect, paths: paths, backgroundColor:prefs_mergerColorBackground)
  let image = NSImage (data: pdfData)!
  return image
//  let scale = image.recommendedLayerContentsScale (10.0)
//  return image.layerContents (forContentsScale:scale) as! NSImage
//--- END OF USER ZONE 2
}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
