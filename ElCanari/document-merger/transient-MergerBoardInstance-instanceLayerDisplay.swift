//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func transient_MergerBoardInstance_instanceLayerDisplay (
       _ self_x : Int,                                   
       _ self_y : Int,                                   
       _ self_myModel_modelWidth : Int?,                 
       _ self_myModel_modelHeight : Int?,                
       _ self_instanceRotation : QuadrantRotation,       
       _ self_myRoot_zoom : Int?,                        
       _ self_myModel_imageForInstances : NSImage?
) -> CALayer {
//--- START OF USER ZONE 2
  let layer = CALayer ()
  if let image = self_myModel_imageForInstances {
  //--- This display image, but it is blurred with large zooms
//    layer.contents = image
  //--- This displays best image
    let actualScale = image.recommendedLayerContentsScale (CGFloat (self_myRoot_zoom!) / 100.0)
    layer.contents = image.layerContents (forContentsScale:actualScale)
    layer.contentsScale = actualScale
  //--- Affine transform
    let at = CGAffineTransform (rotationAngle: CGFloat (self_instanceRotation.rawValue) * CGFloat.pi / 2.0)
    layer.setAffineTransform (at)
  //---
    switch self_instanceRotation {
    case .rotation0, .rotation180 :
      layer.frame = CGRect (x: canariUnitToCocoa (self_x), y: canariUnitToCocoa (self_y), width: image.size.width, height: image.size.height)
    case .rotation90, .rotation270 :
      layer.frame = CGRect (x: canariUnitToCocoa (self_x), y: canariUnitToCocoa (self_y), width: image.size.height, height: image.size.width)
    }
    layer.isOpaque = true
  }
  return layer
//--- END OF USER ZONE 2
}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
