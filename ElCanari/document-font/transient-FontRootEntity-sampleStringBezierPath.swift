//--- START OF USER ZONE 1


//--- END OF USER ZONE 1
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func compute_FontRootEntity_sampleStringBezierPath (_ inArg0 : [FontCharacterEntity_segmentArrayForDrawing],
                                                    _ inArg1 : [FontCharacterEntity_advance],
                                                    _ inArg2 : String,
                                                    _ inArg3 : Double) -> CGPath {
//--- START OF USER ZONE 2
  func toCocoa (_ value : Int) -> CGFloat {
    return CGFloat (value) * CGFloat (inArg3) / 14.0
  }

//  let sampleStringASUnicodeArray : [UInt32] = g_5F_Preferences_21__2E_sampleString_2.unicodeScalars.map { $0.value }
  let sampleStringAsMacRomanData = inArg2.data (using: .macOSRoman, allowLossyConversion: true)!
  var currentX : CGFloat = 0.0
  let path = CGMutablePath ()
  for unicodeCharacter in sampleStringAsMacRomanData { // sampleStringASUnicodeArray {
    let characterIndex = Int (unicodeCharacter) - 32
    if characterIndex < inArg0.count {
      let segmentArrayDescriptor : FontCharacterEntity_segmentArrayForDrawing = inArg0 [characterIndex]
      switch segmentArrayDescriptor.segmentArrayForDrawing {
      case .empty, .multiple :
        break
      case .single (let segmentArray) :
        for segment in segmentArray.code {
          path.move    (to: CGPoint (x: currentX + toCocoa (segment.x1), y: toCocoa (segment.y1)))
          path.addLine (to: CGPoint (x: currentX + toCocoa (segment.x2), y: toCocoa (segment.y2)))
        }
      }
    }
    if characterIndex < inArg1.count {
      currentX += toCocoa (inArg1 [characterIndex].advance)
    }
  }
  return path
//--- END OF USER ZONE 2
}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
