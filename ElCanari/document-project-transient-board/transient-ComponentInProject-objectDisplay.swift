//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func transient_ComponentInProject_objectDisplay (
       _ self_mX : Int,                          
       _ self_mY : Int,                          
       _ self_mRotation : Int,                   
       _ self_mSide : ComponentSide,             
       _ self_padDictionary : PackagePadDictionary,
       _ self_strokeBezierPath : NSBezierPath,   
       _ prefs_frontSideLegendColorForBoard : NSColor,
       _ prefs_backSideLegendColorForBoard : NSColor,
       _ prefs_packageDrawingWidthMultpliedByTenForBoard : Int,
       _ prefs_frontSidePadColorForBoard : NSColor,
       _ self_BoardObject_displayFrontPads : Bool,
       _ prefs_backSidePadColorForBoard : NSColor,
       _ self_BoardObject_displayBackPads : Bool,
       _ prefs_padNumberFontForBoard : NSFont,   
       _ prefs_padNumberColorForBoard : NSColor, 
       _ self_BoardObject_displayPadNumbers : Bool
) -> EBShape {
//--- START OF USER ZONE 2
        let padDisplayAttributes : [NSAttributedString.Key : Any]?
        if self_BoardObject_displayPadNumbers {
          padDisplayAttributes = [
            NSAttributedString.Key.font : prefs_padNumberFontForBoard,
            NSAttributedString.Key.foregroundColor : prefs_padNumberColorForBoard
          ]
        }else{
          padDisplayAttributes = nil
        }
      //--- Legend
        var strokeBezierPath = EBBezierPath (self_strokeBezierPath)
        strokeBezierPath.lineWidth = CGFloat (prefs_packageDrawingWidthMultpliedByTenForBoard) / 10.0
        strokeBezierPath.lineCapStyle = .round
        strokeBezierPath.lineJoinStyle = .round
        let color : NSColor
        switch self_mSide {
        case .front : color = prefs_frontSideLegendColorForBoard
        case .back  : color = prefs_backSideLegendColorForBoard
        }
        let shape = EBShape ()
        shape.append (EBStrokeBezierPathShape ([strokeBezierPath], color))
      //---
        let padRect = self_padDictionary.masterPadsRect
        let center = padRect.center.cocoaPoint
        var padNumberAffineTransform = AffineTransform ()
        if self_mSide == .back {
          padNumberAffineTransform.scale (x: -1.0, y: 1.0)
        }
        padNumberAffineTransform.rotate (byDegrees: -CGFloat (self_mRotation) / 1000.0)
        for (_, descriptor) in self_padDictionary {
          descriptor.accumulatePadBezierPathes (
            into: shape,
            side: self_mSide,
            padDisplayAttributes: padDisplayAttributes,
            padNumberAF: padNumberAffineTransform,
            frontPadColor: self_BoardObject_displayFrontPads ? prefs_frontSidePadColorForBoard : nil,
            backPadColor: self_BoardObject_displayBackPads ? prefs_backSidePadColorForBoard : nil
          )
        }
      //---
        var af = AffineTransform ()
        af.translate (x: canariUnitToCocoa (self_mX), y: canariUnitToCocoa (self_mY))
        af.rotate (byDegrees: CGFloat (self_mRotation) / 1000.0)
        if self_mSide == .back {
          af.scale (x: -1.0, y: 1.0)
        }
        af.translate (x: -center.x, y: -center.y)
        return shape.transformed (by: af)
//--- END OF USER ZONE 2
}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
