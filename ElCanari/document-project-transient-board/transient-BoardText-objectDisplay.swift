//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

func transient_BoardText_objectDisplay (
       _ self_mX : Int,                 
       _ self_mY : Int,                 
       _ self_mLayer : BoardTextLayer,  
       _ self_mText : String,           
       _ self_mFontSize : Int,          
       _ self_mFont_descriptor : BoardFontDescriptor?
) -> EBShape {
//--- START OF USER ZONE 2
        let s = (self_mText == "") ? "Empty" : self_mText
        let bp = NSBezierPath ()
        var x = canariUnitToCocoa (self_mX)
        let y = canariUnitToCocoa (self_mY)
        let fontFactor = CGFloat (self_mFontSize) / CGFloat (self_mFont_descriptor!.nominalSize)
        for character in s.unicodeScalars {
          if let characterDescriptor = self_mFont_descriptor?.dictionary [character.value] {
            for segment in characterDescriptor.segments {
              let x1 = CGFloat (segment.x1) * fontFactor
              let y1 = CGFloat (segment.y1) * fontFactor
              let x2 = CGFloat (segment.x2) * fontFactor
              let y2 = CGFloat (segment.y2) * fontFactor
              bp.move (to: NSPoint (x: x + x1, y: y + y1))
              bp.line (to: NSPoint (x: x + x2, y: y + y2))
            }
            x += CGFloat (characterDescriptor.advancement) * fontFactor
          }
        }
        bp.lineWidth = fontFactor * 2.0
        bp.lineCapStyle = .round
        bp.lineJoinStyle = .round
        let textShape = EBStrokeBezierPathShape ([bp], .black)
      //--- Transparent background
        let backgroundBP = NSBezierPath (rect:textShape.boundingBox)
        let shape = EBShape ()
        shape.append (EBFilledBezierPathShape ([backgroundBP], nil))
        shape.append (textShape)
      //---
        return shape
//--- END OF USER ZONE 2
}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
