import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

class CanariViewWithKeyView : NSView, EBUserClassNameProtocol {

  //····················································································································

  required init? (coder : NSCoder) {
    super.init (coder: coder)
    noteObjectAllocation (self)
  }

  //····················································································································

  override init (frame : NSRect) {
    super.init (frame: frame)
    noteObjectAllocation (self)
  }
  
  //····················································································································

  deinit {
    noteObjectDeallocation (self)
  }

  //····················································································································

  override var mouseDownCanMoveWindow : Bool { return false }

  //····················································································································
  // First responder
  //····················································································································

  private weak var mSavedFirstResponder : NSResponder? = nil

  //····················································································································

  func saveFirstResponder () {
    self.mSavedFirstResponder = self.window?.firstResponder
  }

  //····················································································································

  func restoreFirstResponder () {
    if let savedFirstResponder = self.mSavedFirstResponder {
      _ = self.window?.makeFirstResponder (savedFirstResponder)
    }
  }

  //····················································································································

}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
